{"ast":null,"code":"import _slicedToArray from\"/Users/reginaluskin/Desktop/Graduation-Project/GraduationProject/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/Users/reginaluskin/Desktop/Graduation-Project/GraduationProject/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useReducer,useEffect}from\"react\";import{validate}from\"../../util/validators\";import\"./Input.css\";var inputReducer=function inputReducer(state,action){switch(action.type){case\"CHANGE\":return _objectSpread(_objectSpread({},state),{},{value:action.val,isValid:validate(action.val,action.validators)});case\"TOUCH\":return _objectSpread(_objectSpread({},state),{},{isTouched:true});default:return state;}};var Input=function Input(props){var _useReducer=useReducer(inputReducer,{value:props.initialValue||'',isTouched:false,isValid:props.initialValid||false}),_useReducer2=_slicedToArray(_useReducer,2),inputState=_useReducer2[0],dispatch=_useReducer2[1];var id=props.id,onInput=props.onInput;var value=inputState.value,isValid=inputState.isValid;useEffect(function(){onInput(id,value,isValid);},[id,value,isValid,onInput]);var changeHandler=function changeHandler(event){dispatch({type:\"CHANGE\",val:event.target.value,validators:props.validators});};var touchHandler=function touchHandler(){dispatch({type:\"TOUCH\"});};var element=props.element===\"input\"?/*#__PURE__*/React.createElement(\"input\",{id:props.id,type:props.type,placeholder:props.placeholder,onChange:changeHandler,onBlur:touchHandler,value:inputState.value}):/*#__PURE__*/React.createElement(\"textarea\",{id:props.id,rows:props.rows||3,onChange:changeHandler,onBlur:touchHandler,value:inputState.value});return/*#__PURE__*/React.createElement(\"div\",{className:\"form-control \".concat(!inputState.isValid&&inputState.isTouched&&'form-control--invalid')},/*#__PURE__*/React.createElement(\"label\",{htmlFor:props.id},props.label),element,!inputState.isValid&&inputState.isTouched&&/*#__PURE__*/React.createElement(\"p\",null,props.errorText));};export default Input;","map":{"version":3,"names":["React","useReducer","useEffect","validate","inputReducer","state","action","type","value","val","isValid","validators","isTouched","Input","props","initialValue","initialValid","inputState","dispatch","id","onInput","changeHandler","event","target","touchHandler","element","placeholder","rows","label","errorText"],"sources":["/Users/reginaluskin/Desktop/Graduation-Project/GraduationProject/src/shared/components/FormElements/Input.js"],"sourcesContent":["import React, { useReducer, useEffect } from \"react\";\n\nimport { validate } from \"../../util/validators\";\nimport \"./Input.css\";\n\nconst inputReducer = (state, action) => {\n  switch (action.type) {\n    case \"CHANGE\":\n      return {\n        ...state,\n        value: action.val,\n        isValid: validate(action.val, action.validators),\n      };\n    case \"TOUCH\":\n      return {\n        ...state,\n        isTouched: true,\n      };\n    default:\n      return state;\n  }\n};\n\nconst Input = (props) => {\n  const [inputState, dispatch] = useReducer(inputReducer, {\n    value: props.initialValue || '',\n    isTouched: false,\n    isValid: props.initialValid || false\n  });\n\n  const { id, onInput } = props;\n  const { value, isValid } = inputState;\n\n  useEffect(() => {\n    onInput(id, value, isValid)\n  }, [id, value, isValid, onInput]);\n\n  const changeHandler = (event) => {\n    dispatch({\n      type: \"CHANGE\",\n      val: event.target.value,\n      validators: props.validators,\n    });\n  };\n\n  const touchHandler = () => {\n    dispatch({\n      type: \"TOUCH\",\n    });\n  };\n\n  const element =\n    props.element === \"input\" ? (\n      <input\n        id={props.id}\n        type={props.type}\n        placeholder={props.placeholder}\n        onChange={changeHandler}\n        onBlur={touchHandler}\n        value={inputState.value}\n      />\n    ) : (\n      <textarea\n        id={props.id}\n        rows={props.rows || 3}\n        onChange={changeHandler}\n        onBlur={touchHandler}\n        value={inputState.value}\n      />\n    );\n\n  return (\n    <div\n      className={`form-control ${\n        !inputState.isValid && inputState.isTouched && 'form-control--invalid'\n      }`}\n    >\n      <label htmlFor={props.id}>{props.label}</label>\n      {element}\n      {!inputState.isValid && inputState.isTouched && <p>{props.errorText}</p>}\n    </div>\n  );\n};\n\nexport default Input;\n"],"mappings":"qSAAA,MAAOA,MAAK,EAAIC,UAAU,CAAEC,SAAS,KAAQ,OAAO,CAEpD,OAASC,QAAQ,KAAQ,uBAAuB,CAChD,MAAO,aAAa,CAEpB,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIC,KAAK,CAAEC,MAAM,CAAK,CACtC,OAAQA,MAAM,CAACC,IAAI,EACjB,IAAK,QAAQ,CACX,sCACKF,KAAK,MACRG,KAAK,CAAEF,MAAM,CAACG,GAAG,CACjBC,OAAO,CAAEP,QAAQ,CAACG,MAAM,CAACG,GAAG,CAAEH,MAAM,CAACK,UAAU,CAAC,GAEpD,IAAK,OAAO,CACV,sCACKN,KAAK,MACRO,SAAS,CAAE,IAAI,GAEnB,QACE,MAAOP,MAAK,CAAC,CAEnB,CAAC,CAED,GAAMQ,MAAK,CAAG,QAARA,MAAK,CAAIC,KAAK,CAAK,CACvB,gBAA+Bb,UAAU,CAACG,YAAY,CAAE,CACtDI,KAAK,CAAEM,KAAK,CAACC,YAAY,EAAI,EAAE,CAC/BH,SAAS,CAAE,KAAK,CAChBF,OAAO,CAAEI,KAAK,CAACE,YAAY,EAAI,KACjC,CAAC,CAAC,4CAJKC,UAAU,iBAAEC,QAAQ,iBAM3B,GAAQC,GAAE,CAAcL,KAAK,CAArBK,EAAE,CAAEC,OAAO,CAAKN,KAAK,CAAjBM,OAAO,CACnB,GAAQZ,MAAK,CAAcS,UAAU,CAA7BT,KAAK,CAAEE,OAAO,CAAKO,UAAU,CAAtBP,OAAO,CAEtBR,SAAS,CAAC,UAAM,CACdkB,OAAO,CAACD,EAAE,CAAEX,KAAK,CAAEE,OAAO,CAAC,CAC7B,CAAC,CAAE,CAACS,EAAE,CAAEX,KAAK,CAAEE,OAAO,CAAEU,OAAO,CAAC,CAAC,CAEjC,GAAMC,cAAa,CAAG,QAAhBA,cAAa,CAAIC,KAAK,CAAK,CAC/BJ,QAAQ,CAAC,CACPX,IAAI,CAAE,QAAQ,CACdE,GAAG,CAAEa,KAAK,CAACC,MAAM,CAACf,KAAK,CACvBG,UAAU,CAAEG,KAAK,CAACH,UACpB,CAAC,CAAC,CACJ,CAAC,CAED,GAAMa,aAAY,CAAG,QAAfA,aAAY,EAAS,CACzBN,QAAQ,CAAC,CACPX,IAAI,CAAE,OACR,CAAC,CAAC,CACJ,CAAC,CAED,GAAMkB,QAAO,CACXX,KAAK,CAACW,OAAO,GAAK,OAAO,cACvB,6BACE,EAAE,CAAEX,KAAK,CAACK,EAAG,CACb,IAAI,CAAEL,KAAK,CAACP,IAAK,CACjB,WAAW,CAAEO,KAAK,CAACY,WAAY,CAC/B,QAAQ,CAAEL,aAAc,CACxB,MAAM,CAAEG,YAAa,CACrB,KAAK,CAAEP,UAAU,CAACT,KAAM,EACxB,cAEF,gCACE,EAAE,CAAEM,KAAK,CAACK,EAAG,CACb,IAAI,CAAEL,KAAK,CAACa,IAAI,EAAI,CAAE,CACtB,QAAQ,CAAEN,aAAc,CACxB,MAAM,CAAEG,YAAa,CACrB,KAAK,CAAEP,UAAU,CAACT,KAAM,EAE3B,CAEH,mBACE,2BACE,SAAS,wBACP,CAACS,UAAU,CAACP,OAAO,EAAIO,UAAU,CAACL,SAAS,EAAI,uBAAuB,CACrE,eAEH,6BAAO,OAAO,CAAEE,KAAK,CAACK,EAAG,EAAEL,KAAK,CAACc,KAAK,CAAS,CAC9CH,OAAO,CACP,CAACR,UAAU,CAACP,OAAO,EAAIO,UAAU,CAACL,SAAS,eAAI,6BAAIE,KAAK,CAACe,SAAS,CAAK,CACpE,CAEV,CAAC,CAED,cAAehB,MAAK"},"metadata":{},"sourceType":"module"}